import{s as c,u as m,r as p}from"./button.esm.997757ad.js";import{Q as f,r,o as v,c as _,a as t,n as b,b as i,w as h,p as w,d as $}from"./index.0991ea30.js";import{w as S}from"./db.2f96e0bc.js";import{s as B}from"./selectbutton.esm.94b6e436.js";import{_ as y}from"./0plugin-vue0export-helper.15deba66.js";const V={name:"Question",components:{SelectButton:B,Button:c},setup:()=>({v$:m(),store:f()}),data(){return{concentration:null,concentrationOptions:[{name:"1: Very bad",value:1},{name:"2: Bad",value:2},{name:"3: Good",value:3},{name:"4: Very good",value:4}],submitted:!1}},validations(){return{concentration:{required:p}}},beforeMount(){window.addEventListener("beforeunload",this.preventNav)},methods:{handleSubmit(e){if(this.submitted=!0,e)this.storeData(),S(),this.$router.push("endscreen");else return},storeData(){this.store.insertConcentrationAfter(Number(this.concentration.value))},preventNav(e){this.allowLeave||(e.preventDefault(),e.returnValue="")}}},n=e=>(w("data-v-a557d8b2"),e=e(),$(),e),g={class:"main-wrapper"},I=n(()=>t("h3",{class:"info-text"},"Please answer one last question before submitting your results",-1)),D={class:"form-field-content-wrapper"},N=n(()=>t("p",{class:"form-field-text"},"Rate from 1-4 how well this statement applied to you during the experiment:*",-1)),x=n(()=>t("p",{class:"form-field-quote"},'"During the experiment I was in a calm environment with enough light and I was able to concentrate."',-1)),Q={class:"form-button-wrapper"};function q(e,o,C,L,s,l){const u=r("SelectButton"),d=r("Button");return v(),_("main",g,[I,t("form",{class:"form-wrapper",onSubmit:o[1]||(o[1]=h(a=>l.handleSubmit(!e.v$.$invalid),["prevent"]))},[t("div",{class:b(["form-field",{"p-error":e.v$.concentration.$invalid&&s.submitted}])},[t("div",D,[N,x,i(u,{class:"form-selectbutton",modelValue:e.v$.concentration.$model,"onUpdate:modelValue":o[0]||(o[0]=a=>e.v$.concentration.$model=a),options:s.concentrationOptions,optionLabel:"name",dataKey:"value","aria-labelledby":"single"},null,8,["modelValue","options"])])],2),t("div",Q,[i(d,{type:"submit",label:"Submit",class:"mt-2"})])],32)])}const z=y(V,[["render",q],["__scopeId","data-v-a557d8b2"]]);export{z as default};
